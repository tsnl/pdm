extern def malloc (size U64) -> U8^;
extern def puts (s String) -> U32;

extern def print_string (s String) -> Unit;
extern def print_s32 (s S32) -> Unit;
extern def print_f32 (f F32) -> Unit;
extern def println () -> Unit;

def add_s32 (x S32, y S32) -> S32 {
    x + y
};

def subtract_s32 (x S32, y S32) -> S32 {
    x - y
};

def dot_s32 (x1 S32, y1 S32, x2 S32, y2 S32) -> S32 {
    x1*x2 + y1*y2
};

def main () -> S32 {
    let x1 S32 = 42; let y1 S32 = 56;
    let x2 S32 = 0;  let y2 S32 = 64;
    
    # print x1,y1
    do print_string("(x1,y1) = {x=\0");
    do print_s32(x1);
    do print_string(",y=\0");
    do print_s32(y1);
    do print_string("}\0");
    do println();

    # print x2,y2
    do print_string("(x2,y2) = {x=\0");
    do print_s32(x2);
    do print_string(",y=\0");
    do print_s32(y2);
    do print_string("}\0");
    do println();

    # subtract x1,y1 and x2,y2
    do print_string("subtract_s32(x1,y1) = \0");
    do print_s32(subtract_s32(x1,y1));
    do println();
    do print_string("subtract_s32(x2,y2) = \0");
    do print_s32(subtract_s32(x2,y2));
    do println();

    # add x1,y1 and x2,y2
    do print_string("add_s32(x1,y1) = \0");
    do print_s32(add_s32(x1,y1));
    do println();
    do print_string("add_s32(x2,y2) = \0");
    do print_s32(add_s32(x2,y2));
    do println();

    # dot(x1,y1,x2,y2)
    do print_string("dot(x1,y1,x2,y2) = \0");
    do print_s32(dot_s32(x1,y1,x2,y2));
    do println();

    0
};